<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Quiz Results</title>
    <style>
      body {
        font-family: Arial, sans-serif;
        margin: 20px;
        background: #f9f9f9;
        color: #333;
      }
      h1 {
        text-align: center;
      }
      table {
        width: 80%;
        margin: 20px auto;
        border-collapse: collapse;
        background: #fff;
        box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
      }
      th,
      td {
        padding: 12px;
        text-align: center;
        border: 1px solid #ccc;
      }
      th {
        background: #0077cc;
        color: white;
      }
      .stats {
        text-align: center;
        margin-top: 30px;
        font-size: 18px;
      }
      .retry {
        display: block;
        width: fit-content;
        margin: 30px auto;
        padding: 10px 20px;
        background: #0077cc;
        color: #fff;
        border: none;
        border-radius: 8px;
        text-decoration: none;
        font-size: 16px;
        cursor: pointer;
      }
      .retry:hover {
        background: #005fa3;
      }
    </style>
  </head>
  <body>
    <h1>Your Quiz Results</h1>

    <table id="resultsTable">
      <tr>
        <th>Section</th>
        <th>Correct</th>
        <th>Total</th>
        <th>Score (%)</th>
      </tr>
    </table>

    <div class="stats" id="stats"></div>

    <a href="napolcom_quiz_verbal.html" class="retry">Retry Quiz</a>

    <script>
      const results = JSON.parse(localStorage.getItem("quizResults"));

      if (results) {
        const table = document.getElementById("resultsTable");
        function formatSectionName(section) {
        switch (section) {
          case "vocabulary":
            return "Vocabulary";
          case "grammar":
            return "Grammar & Usage";
          case "spell":
            return "Spelling and Word Recognition";
          case "sentence":
            return "Sentence Completion";
          case "comprehension":
            return "Reading Comprehension";
          default:
            return section.charAt(0).toUpperCase() + section.slice(1);
        }
      }
        results.sections.forEach((section) => {
          let row = table.insertRow();
          row.insertCell(0).innerText = formatSectionName(section.section);
          row.insertCell(1).innerText = section.correct;
          row.insertCell(2).innerText = section.total;
          row.insertCell(3).innerText =
            Math.round((section.correct / section.total) * 100) + "%";
        });

        document.getElementById("stats").innerHTML = `
        <p><strong>Total Correct:</strong> ${results.totalCorrect} / ${results.totalQuestions}</p>
        <p><strong>Overall Percentage:</strong> ${results.percentage}%</p>
      `;
      } else {
        document.getElementById("stats").innerText = "No results found.";
      }
    </script>
  </body>
</html>


